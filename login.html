<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>JackTube Admin Login</title>
<style>
body {
  background:#0d0d0d;
  color:#fff;
  font-family:'Roboto', sans-serif;
  display:flex;
  justify-content:center;
  align-items:center;
  height:100vh;
  margin:0;
}

.login-box {
  background:linear-gradient(145deg,#1a1a1a,#111);
  padding:2rem;
  border-radius:15px;
  width:350px;
  text-align:center;
  box-shadow:0 0 20px rgba(255,0,85,0.5);
}

h2 {
  color:#ff0055;
  margin-bottom:1.5rem;
  font-size:1.8rem;
}

.input-group {
  position: relative;
  width: 100%;
  margin: 10px 0;
}

input {
  width: 100%;
  padding: 12px 40px 12px 12px; /* Space for eye icon */
  border-radius: 8px;
  border: none;
  background: #222;
  color: #fff;
  outline: none;
  box-sizing: border-box;
}

input:focus { background: #333; }

.show-pass {
  position: absolute;
  top: 50%;
  right: 12px;
  transform: translateY(-50%);
  cursor: pointer;
  color: #ff0055;
  font-size: 1.1rem;
  user-select: none;
}

button {
  background:#ff0055;
  border:none;
  padding:12px 25px;
  color:#fff;
  border-radius:8px;
  cursor:pointer;
  font-weight:bold;
  font-size:1rem;
  box-shadow:0 0 10px rgba(255,0,85,0.5);
  transition: all 0.2s;
  margin-top:10px;
  width: 100%;
}

button:hover {
  background:#ff3399;
  box-shadow:0 0 15px rgba(255,0,85,0.8);
}
</style>
</head>
<body>

<div class="login-box">
  <h2>Admin Login</h2>
  <div class="input-group">
    <input type="email" id="email" placeholder="Email">
  </div>
  <div class="input-group">
    <input type="password" id="password" placeholder="Password">
    <span class="show-pass" id="togglePass">üëÅÔ∏è</span>
  </div>
  <button id="loginBtn">Login</button>
</div>

<script type="module">
import { createClient } from "https://esm.sh/@supabase/supabase-js";

const SUPABASE_URL = "https://mixqxyrduuwzfuozxaoh.supabase.co";
const SUPABASE_ANON_KEY = "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im1peHF4eXJkdXV3emZ1b3p4YW9oIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTY1NjMwNjQsImV4cCI6MjA3MjEzOTA2NH0.RWLHZTqBhFiOlY60KW-UgNWHxmgI2uPv8JW3OA_CIsc"; // Replace with your anon key
const supabase = createClient(SUPABASE_URL, SUPABASE_ANON_KEY);

// Login function
async function login() {
  const email = document.getElementById("email").value;
  const password = document.getElementById("password").value;

  const { data, error } = await supabase.auth.signInWithPassword({ email, password });
  if (error) {
    alert("Login failed: " + error.message);
  } else {
    window.location.href = "admin.html"; // Redirect on success
  }
}

// Show/hide password
const togglePass = document.getElementById("togglePass");
togglePass.addEventListener("click", () => {
  const passField = document.getElementById("password");
  if (passField.type === "password") {
    passField.type = "text";
    togglePass.textContent = "üôà";
  } else {
    passField.type = "password";
    togglePass.textContent = "üëÅÔ∏è";
  }
});

// Bind login button
document.getElementById("loginBtn").addEventListener("click", login);
</script>

</body>
</html>
